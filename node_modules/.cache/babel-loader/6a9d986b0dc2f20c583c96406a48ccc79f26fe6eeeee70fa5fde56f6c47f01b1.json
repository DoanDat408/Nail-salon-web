{"ast":null,"code":"import * as React from 'react';\nimport { useLightboxProps, useMotionPreference, useEventCallback, useLayoutEffect, useLightboxState, isImageSlide, isImageFitCover, round, useDocumentContext, useController, usePointerEvents, cleanup, makeUseContext, createIcon, IconButton, devicePixelRatio, ImageSlide, clsx, cssClass, addToolbarButton, createModule } from '../../index.js';\nimport { EVENT_ON_KEY_DOWN, EVENT_ON_WHEEL, UNKNOWN_ACTION_TYPE, CLASS_FULLSIZE, CLASS_FLEX_CENTER, CLASS_SLIDE_WRAPPER, CLASS_SLIDE_WRAPPER_INTERACTIVE, PLUGIN_ZOOM } from '../../types.js';\nconst defaultZoomProps = {\n  maxZoomPixelRatio: 1,\n  zoomInMultiplier: 2,\n  doubleTapDelay: 300,\n  doubleClickDelay: 500,\n  doubleClickMaxStops: 2,\n  keyboardMoveDistance: 50,\n  wheelZoomDistanceFactor: 100,\n  pinchZoomDistanceFactor: 100,\n  scrollToZoom: false\n};\nconst resolveZoomProps = zoom => ({\n  ...defaultZoomProps,\n  ...zoom\n});\nfunction useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef) {\n  const zoomAnimation = React.useRef();\n  const zoomAnimationStart = React.useRef();\n  const {\n    zoom: zoomAnimationDuration\n  } = useLightboxProps().animation;\n  const reduceMotion = useMotionPreference();\n  const playZoomAnimation = useEventCallback(() => {\n    var _a, _b, _c;\n    (_a = zoomAnimation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n    zoomAnimation.current = undefined;\n    if (zoomAnimationStart.current && (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)) {\n      try {\n        zoomAnimation.current = (_c = (_b = zoomWrapperRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, [{\n          transform: zoomAnimationStart.current\n        }, {\n          transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)`\n        }], {\n          duration: !reduceMotion ? zoomAnimationDuration !== null && zoomAnimationDuration !== void 0 ? zoomAnimationDuration : 500 : 0,\n          easing: zoomAnimation.current ? \"ease-out\" : \"ease-in-out\"\n        });\n      } catch (err) {\n        console.error(err);\n      }\n      zoomAnimationStart.current = undefined;\n      if (zoomAnimation.current) {\n        zoomAnimation.current.onfinish = () => {\n          zoomAnimation.current = undefined;\n        };\n      }\n    }\n  });\n  useLayoutEffect(playZoomAnimation, [zoom, offsetX, offsetY, playZoomAnimation]);\n  return React.useCallback(() => {\n    zoomAnimationStart.current = (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current) ? window.getComputedStyle(zoomWrapperRef.current).transform : undefined;\n  }, [zoomWrapperRef]);\n}\nfunction useZoomCallback(zoom, disabled) {\n  const {\n    on\n  } = useLightboxProps();\n  const onZoomCallback = useEventCallback(() => {\n    var _a;\n    if (!disabled) {\n      (_a = on.zoom) === null || _a === void 0 ? void 0 : _a.call(on, {\n        zoom\n      });\n    }\n  });\n  React.useEffect(onZoomCallback, [zoom, onZoomCallback]);\n}\nfunction useZoomProps() {\n  const {\n    zoom\n  } = useLightboxProps();\n  return resolveZoomProps(zoom);\n}\nfunction useZoomImageRect(slideRect, imageDimensions) {\n  var _a, _b;\n  let imageRect = {\n    width: 0,\n    height: 0\n  };\n  let maxImageRect = {\n    width: 0,\n    height: 0\n  };\n  const {\n    currentSlide\n  } = useLightboxState();\n  const {\n    imageFit\n  } = useLightboxProps().carousel;\n  const {\n    maxZoomPixelRatio\n  } = useZoomProps();\n  if (slideRect && currentSlide) {\n    const slide = {\n      ...currentSlide,\n      ...imageDimensions\n    };\n    if (isImageSlide(slide)) {\n      const cover = isImageFitCover(slide, imageFit);\n      const width = Math.max(...(((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.map(x => x.width)) || []).concat(slide.width ? [slide.width] : []));\n      const height = Math.max(...(((_b = slide.srcSet) === null || _b === void 0 ? void 0 : _b.map(x => x.height)) || []).concat(slide.height ? [slide.height] : []));\n      if (width > 0 && height > 0 && slideRect.width > 0 && slideRect.height > 0) {\n        maxImageRect = cover ? {\n          width: Math.round(Math.min(width, slideRect.width / slideRect.height * height)),\n          height: Math.round(Math.min(height, slideRect.height / slideRect.width * width))\n        } : {\n          width,\n          height\n        };\n        maxImageRect = {\n          width: maxImageRect.width * maxZoomPixelRatio,\n          height: maxImageRect.height * maxZoomPixelRatio\n        };\n        imageRect = cover ? {\n          width: Math.min(slideRect.width, maxImageRect.width, width),\n          height: Math.min(slideRect.height, maxImageRect.height, height)\n        } : {\n          width: Math.round(Math.min(slideRect.width, slideRect.height / height * width, width)),\n          height: Math.round(Math.min(slideRect.height, slideRect.width / width * height, height))\n        };\n      }\n    }\n  }\n  const maxZoom = imageRect.width ? Math.max(round(maxImageRect.width / imageRect.width, 5), 1) : 1;\n  return {\n    imageRect,\n    maxZoom\n  };\n}\nfunction distance(pointerA, pointerB) {\n  return ((pointerA.clientX - pointerB.clientX) ** 2 + (pointerA.clientY - pointerB.clientY) ** 2) ** 0.5;\n}\nfunction useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapperRef) {\n  const activePointers = React.useRef([]);\n  const lastPointerDown = React.useRef(0);\n  const pinchZoomDistance = React.useRef();\n  const {\n    globalIndex\n  } = useLightboxState();\n  const {\n    getOwnerWindow\n  } = useDocumentContext();\n  const {\n    containerRef,\n    subscribeSensors\n  } = useController();\n  const {\n    keyboardMoveDistance,\n    zoomInMultiplier,\n    wheelZoomDistanceFactor,\n    scrollToZoom,\n    doubleTapDelay,\n    doubleClickDelay,\n    doubleClickMaxStops,\n    pinchZoomDistanceFactor\n  } = useZoomProps();\n  const translateCoordinates = React.useCallback(event => {\n    if (containerRef.current) {\n      const {\n        pageX,\n        pageY\n      } = event;\n      const {\n        scrollX,\n        scrollY\n      } = getOwnerWindow();\n      const {\n        left,\n        top,\n        width,\n        height\n      } = containerRef.current.getBoundingClientRect();\n      return [pageX - left - scrollX - width / 2, pageY - top - scrollY - height / 2];\n    }\n    return [];\n  }, [containerRef, getOwnerWindow]);\n  const onKeyDown = useEventCallback(event => {\n    const preventDefault = () => {\n      event.preventDefault();\n      event.stopPropagation();\n    };\n    if (zoom > 1) {\n      const move = (deltaX, deltaY) => {\n        preventDefault();\n        changeOffsets(deltaX, deltaY);\n      };\n      if (event.key === \"ArrowDown\") {\n        move(0, keyboardMoveDistance);\n      } else if (event.key === \"ArrowUp\") {\n        move(0, -keyboardMoveDistance);\n      } else if (event.key === \"ArrowLeft\") {\n        move(-keyboardMoveDistance, 0);\n      } else if (event.key === \"ArrowRight\") {\n        move(keyboardMoveDistance, 0);\n      }\n    }\n    const handleChangeZoom = zoomValue => {\n      preventDefault();\n      changeZoom(zoomValue);\n    };\n    const hasMeta = () => event.getModifierState(\"Meta\");\n    if (event.key === \"+\" || event.key === \"=\" && hasMeta()) {\n      handleChangeZoom(zoom * zoomInMultiplier);\n    } else if (event.key === \"-\" || event.key === \"_\" && hasMeta()) {\n      handleChangeZoom(zoom / zoomInMultiplier);\n    } else if (event.key === \"0\" && hasMeta()) {\n      handleChangeZoom(1);\n    }\n  });\n  const onWheel = useEventCallback(event => {\n    if (event.ctrlKey || scrollToZoom) {\n      if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n        event.stopPropagation();\n        changeZoom(zoom * (1 - event.deltaY / wheelZoomDistanceFactor), true, ...translateCoordinates(event));\n        return;\n      }\n    }\n    if (zoom > 1) {\n      event.stopPropagation();\n      if (!scrollToZoom) {\n        changeOffsets(event.deltaX, event.deltaY);\n      }\n    }\n  });\n  const clearPointer = React.useCallback(event => {\n    const pointers = activePointers.current;\n    pointers.splice(0, pointers.length, ...pointers.filter(p => p.pointerId !== event.pointerId));\n  }, []);\n  const replacePointer = React.useCallback(event => {\n    clearPointer(event);\n    event.persist();\n    activePointers.current.push(event);\n  }, [clearPointer]);\n  const onPointerDown = useEventCallback(event => {\n    var _a;\n    const pointers = activePointers.current;\n    if (!((_a = zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\n      return;\n    }\n    if (zoom > 1) {\n      event.stopPropagation();\n    }\n    const {\n      timeStamp\n    } = event;\n    if (pointers.length === 0 && timeStamp - lastPointerDown.current < (event.pointerType === \"touch\" ? doubleTapDelay : doubleClickDelay)) {\n      lastPointerDown.current = 0;\n      changeZoom(zoom !== maxZoom ? zoom * Math.max(maxZoom ** (1 / doubleClickMaxStops), zoomInMultiplier) : 1, false, ...translateCoordinates(event));\n    } else {\n      lastPointerDown.current = timeStamp;\n    }\n    replacePointer(event);\n    if (pointers.length === 2) {\n      pinchZoomDistance.current = distance(pointers[0], pointers[1]);\n    }\n  });\n  const onPointerMove = useEventCallback(event => {\n    const pointers = activePointers.current;\n    const activePointer = pointers.find(p => p.pointerId === event.pointerId);\n    if (pointers.length === 2 && pinchZoomDistance.current) {\n      event.stopPropagation();\n      replacePointer(event);\n      const currentDistance = distance(pointers[0], pointers[1]);\n      const delta = currentDistance - pinchZoomDistance.current;\n      if (Math.abs(delta) > 0) {\n        changeZoom(zoom * (1 + delta / pinchZoomDistanceFactor), true, ...pointers.map(x => translateCoordinates(x)).reduce((acc, coordinate) => coordinate.map((x, i) => acc[i] + x / 2)));\n        pinchZoomDistance.current = currentDistance;\n      }\n      return;\n    }\n    if (zoom > 1) {\n      event.stopPropagation();\n      if (activePointer) {\n        if (pointers.length === 1) {\n          changeOffsets((activePointer.clientX - event.clientX) / zoom, (activePointer.clientY - event.clientY) / zoom);\n        }\n        replacePointer(event);\n      }\n    }\n  });\n  const onPointerUp = React.useCallback(event => {\n    const pointers = activePointers.current;\n    if (pointers.length === 2 && pointers.find(p => p.pointerId === event.pointerId)) {\n      pinchZoomDistance.current = undefined;\n    }\n    clearPointer(event);\n  }, [clearPointer]);\n  const cleanupSensors = React.useCallback(() => {\n    const pointers = activePointers.current;\n    pointers.splice(0, pointers.length);\n    lastPointerDown.current = 0;\n    pinchZoomDistance.current = undefined;\n  }, []);\n  usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled);\n  React.useEffect(cleanupSensors, [globalIndex, cleanupSensors]);\n  React.useEffect(() => {\n    if (!disabled) {\n      return cleanup(cleanupSensors, subscribeSensors(EVENT_ON_KEY_DOWN, onKeyDown), subscribeSensors(EVENT_ON_WHEEL, onWheel));\n    }\n    return () => {};\n  }, [disabled, subscribeSensors, cleanupSensors, onKeyDown, onWheel]);\n}\nfunction useZoomState(imageRect, maxZoom, zoomWrapperRef) {\n  const [zoom, setZoom] = React.useState(1);\n  const [offsetX, setOffsetX] = React.useState(0);\n  const [offsetY, setOffsetY] = React.useState(0);\n  const animate = useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef);\n  const {\n    currentSlide,\n    globalIndex\n  } = useLightboxState();\n  const {\n    containerRect,\n    slideRect\n  } = useController();\n  const {\n    zoomInMultiplier\n  } = useZoomProps();\n  const currentSource = currentSlide && isImageSlide(currentSlide) ? currentSlide.src : undefined;\n  const disabled = !currentSource || !(zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current);\n  useLayoutEffect(() => {\n    setZoom(1);\n    setOffsetX(0);\n    setOffsetY(0);\n  }, [globalIndex, currentSource]);\n  const changeOffsets = React.useCallback((dx, dy, targetZoom) => {\n    const newZoom = targetZoom || zoom;\n    const newOffsetX = offsetX - (dx || 0);\n    const newOffsetY = offsetY - (dy || 0);\n    const maxOffsetX = (imageRect.width * newZoom - slideRect.width) / 2 / newZoom;\n    const maxOffsetY = (imageRect.height * newZoom - slideRect.height) / 2 / newZoom;\n    setOffsetX(Math.min(Math.abs(newOffsetX), Math.max(maxOffsetX, 0)) * Math.sign(newOffsetX));\n    setOffsetY(Math.min(Math.abs(newOffsetY), Math.max(maxOffsetY, 0)) * Math.sign(newOffsetY));\n  }, [zoom, offsetX, offsetY, slideRect, imageRect.width, imageRect.height]);\n  const changeZoom = React.useCallback((targetZoom, rapid, dx, dy) => {\n    const newZoom = round(Math.min(Math.max(targetZoom + 0.001 < maxZoom ? targetZoom : maxZoom, 1), maxZoom), 5);\n    if (newZoom === zoom) return;\n    if (!rapid) {\n      animate();\n    }\n    changeOffsets(dx ? dx * (1 / zoom - 1 / newZoom) : 0, dy ? dy * (1 / zoom - 1 / newZoom) : 0, newZoom);\n    setZoom(newZoom);\n  }, [zoom, maxZoom, changeOffsets, animate]);\n  const handleControllerRectChange = useEventCallback(() => {\n    if (zoom > 1) {\n      if (zoom > maxZoom) {\n        changeZoom(maxZoom, true);\n      }\n      changeOffsets();\n    }\n  });\n  useLayoutEffect(handleControllerRectChange, [containerRect.width, containerRect.height, handleControllerRectChange]);\n  const zoomIn = React.useCallback(() => changeZoom(zoom * zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n  const zoomOut = React.useCallback(() => changeZoom(zoom / zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n  return {\n    zoom,\n    offsetX,\n    offsetY,\n    disabled,\n    changeOffsets,\n    changeZoom,\n    zoomIn,\n    zoomOut\n  };\n}\nconst ZoomControllerContext = React.createContext(null);\nconst useZoom = makeUseContext(\"useZoom\", \"ZoomControllerContext\", ZoomControllerContext);\nfunction ZoomContextProvider({\n  children\n}) {\n  const [zoomWrapper, setZoomWrapper] = React.useState();\n  const {\n    slideRect\n  } = useController();\n  const {\n    imageRect,\n    maxZoom\n  } = useZoomImageRect(slideRect, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.imageDimensions);\n  const {\n    zoom,\n    offsetX,\n    offsetY,\n    disabled,\n    changeZoom,\n    changeOffsets,\n    zoomIn,\n    zoomOut\n  } = useZoomState(imageRect, maxZoom, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n  useZoomCallback(zoom, disabled);\n  useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n  const zoomRef = React.useMemo(() => ({\n    zoom,\n    maxZoom,\n    offsetX,\n    offsetY,\n    disabled,\n    zoomIn,\n    zoomOut,\n    changeZoom\n  }), [zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom]);\n  React.useImperativeHandle(useZoomProps().ref, () => zoomRef, [zoomRef]);\n  const context = React.useMemo(() => ({\n    ...zoomRef,\n    setZoomWrapper\n  }), [zoomRef, setZoomWrapper]);\n  return React.createElement(ZoomControllerContext.Provider, {\n    value: context\n  }, children);\n}\nconst ZoomInIcon = createIcon(\"ZoomIn\", React.createElement(React.Fragment, null, React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), React.createElement(\"path\", {\n  d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"\n})));\nconst ZoomOutIcon = createIcon(\"ZoomOut\", React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"\n}));\nconst ZoomButton = React.forwardRef(function ZoomButton({\n  zoomIn,\n  onLoseFocus\n}, ref) {\n  const wasEnabled = React.useRef(false);\n  const wasFocused = React.useRef(false);\n  const {\n    zoom,\n    maxZoom,\n    zoomIn: zoomInCallback,\n    zoomOut: zoomOutCallback,\n    disabled: zoomDisabled\n  } = useZoom();\n  const {\n    render\n  } = useLightboxProps();\n  const disabled = zoomDisabled || (zoomIn ? zoom >= maxZoom : zoom <= 1);\n  React.useEffect(() => {\n    if (disabled && wasEnabled.current && wasFocused.current) {\n      onLoseFocus();\n    }\n    if (!disabled) {\n      wasEnabled.current = true;\n    }\n  }, [disabled, onLoseFocus]);\n  return React.createElement(IconButton, {\n    ref: ref,\n    disabled: disabled,\n    label: zoomIn ? \"Zoom in\" : \"Zoom out\",\n    icon: zoomIn ? ZoomInIcon : ZoomOutIcon,\n    renderIcon: zoomIn ? render.iconZoomIn : render.iconZoomOut,\n    onClick: zoomIn ? zoomInCallback : zoomOutCallback,\n    onFocus: () => {\n      wasFocused.current = true;\n    },\n    onBlur: () => {\n      wasFocused.current = false;\n    }\n  });\n});\nfunction ZoomButtonsGroup() {\n  const zoomInRef = React.useRef(null);\n  const zoomOutRef = React.useRef(null);\n  const {\n    focus\n  } = useController();\n  const focusSibling = React.useCallback(sibling => {\n    var _a, _b;\n    if (!((_a = sibling.current) === null || _a === void 0 ? void 0 : _a.disabled)) {\n      (_b = sibling.current) === null || _b === void 0 ? void 0 : _b.focus();\n    } else {\n      focus();\n    }\n  }, [focus]);\n  const focusZoomIn = React.useCallback(() => focusSibling(zoomInRef), [focusSibling]);\n  const focusZoomOut = React.useCallback(() => focusSibling(zoomOutRef), [focusSibling]);\n  return React.createElement(React.Fragment, null, React.createElement(ZoomButton, {\n    zoomIn: true,\n    ref: zoomInRef,\n    onLoseFocus: focusZoomOut\n  }), React.createElement(ZoomButton, {\n    ref: zoomOutRef,\n    onLoseFocus: focusZoomIn\n  }));\n}\nfunction ZoomToolbarControl() {\n  const {\n    render\n  } = useLightboxProps();\n  const zoomRef = useZoom();\n  if (render.buttonZoom) {\n    return React.createElement(React.Fragment, null, render.buttonZoom(zoomRef));\n  }\n  return React.createElement(ZoomButtonsGroup, null);\n}\nfunction isResponsiveImageSlide(slide) {\n  var _a;\n  return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0;\n}\nfunction reducer({\n  current,\n  preload\n}, {\n  type,\n  source\n}) {\n  switch (type) {\n    case \"fetch\":\n      if (!current) {\n        return {\n          current: source\n        };\n      }\n      return {\n        current,\n        preload: source\n      };\n    case \"done\":\n      if (source === preload) {\n        return {\n          current: source\n        };\n      }\n      return {\n        current,\n        preload\n      };\n    default:\n      throw new Error(UNKNOWN_ACTION_TYPE);\n  }\n}\nfunction ResponsiveImage(props) {\n  var _a, _b;\n  const [{\n    current,\n    preload\n  }, dispatch] = React.useReducer(reducer, {});\n  const {\n    slide: image,\n    rect,\n    imageFit,\n    render,\n    interactive\n  } = props;\n  const srcSet = image.srcSet.sort((a, b) => a.width - b.width);\n  const width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n  const height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n  const cover = isImageFitCover(image, imageFit);\n  const maxWidth = Math.max(...srcSet.map(x => x.width));\n  const targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n  const pixelDensity = devicePixelRatio();\n  const handleResize = useEventCallback(() => {\n    var _a;\n    const targetSource = (_a = srcSet.find(x => x.width >= targetWidth * pixelDensity)) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n    if (!current || srcSet.findIndex(x => x.src === current) < srcSet.findIndex(x => x === targetSource)) {\n      dispatch({\n        type: \"fetch\",\n        source: targetSource.src\n      });\n    }\n  });\n  useLayoutEffect(handleResize, [rect.width, rect.height, pixelDensity, handleResize]);\n  const handlePreload = useEventCallback(currentPreload => dispatch({\n    type: \"done\",\n    source: currentPreload\n  }));\n  const style = {\n    WebkitTransform: !interactive ? \"translateZ(0)\" : \"initial\"\n  };\n  if (!cover) {\n    Object.assign(style, rect.width / rect.height < width / height ? {\n      width: \"100%\",\n      height: \"auto\"\n    } : {\n      width: \"auto\",\n      height: \"100%\"\n    });\n  }\n  return React.createElement(React.Fragment, null, preload && preload !== current && React.createElement(ImageSlide, {\n    key: \"preload\",\n    ...props,\n    slide: {\n      ...image,\n      src: preload,\n      srcSet: undefined\n    },\n    style: {\n      position: \"absolute\",\n      visibility: \"hidden\",\n      ...style\n    },\n    onLoad: () => handlePreload(preload),\n    render: {\n      ...render,\n      iconLoading: () => null,\n      iconError: () => null\n    }\n  }), current && React.createElement(ImageSlide, {\n    key: \"current\",\n    ...props,\n    slide: {\n      ...image,\n      src: current,\n      srcSet: undefined\n    },\n    style: style\n  }));\n}\nfunction ZoomWrapper({\n  render,\n  slide,\n  offset,\n  rect\n}) {\n  var _a;\n  const [imageDimensions, setImageDimensions] = React.useState();\n  const zoomWrapperRef = React.useRef(null);\n  const {\n    zoom,\n    maxZoom,\n    offsetX,\n    offsetY,\n    setZoomWrapper\n  } = useZoom();\n  const interactive = zoom > 1;\n  const {\n    carousel,\n    on\n  } = useLightboxProps();\n  const {\n    currentIndex\n  } = useLightboxState();\n  useLayoutEffect(() => {\n    if (offset === 0) {\n      setZoomWrapper({\n        zoomWrapperRef,\n        imageDimensions\n      });\n      return () => setZoomWrapper(undefined);\n    }\n    return () => {};\n  }, [offset, imageDimensions, setZoomWrapper]);\n  let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, {\n    slide,\n    offset,\n    rect,\n    zoom,\n    maxZoom\n  });\n  if (!rendered && isImageSlide(slide)) {\n    const slideProps = {\n      slide,\n      offset,\n      rect,\n      render,\n      imageFit: carousel.imageFit,\n      imageProps: carousel.imageProps,\n      onClick: offset === 0 ? () => {\n        var _a;\n        return (_a = on.click) === null || _a === void 0 ? void 0 : _a.call(on, {\n          index: currentIndex\n        });\n      } : undefined\n    };\n    rendered = isResponsiveImageSlide(slide) ? React.createElement(ResponsiveImage, {\n      ...slideProps,\n      slide: slide,\n      interactive: interactive,\n      rect: offset === 0 ? {\n        width: rect.width * zoom,\n        height: rect.height * zoom\n      } : rect\n    }) : React.createElement(ImageSlide, {\n      onLoad: img => setImageDimensions({\n        width: img.naturalWidth,\n        height: img.naturalHeight\n      }),\n      ...slideProps\n    });\n  }\n  if (!rendered) return null;\n  return React.createElement(\"div\", {\n    ref: zoomWrapperRef,\n    className: clsx(cssClass(CLASS_FULLSIZE), cssClass(CLASS_FLEX_CENTER), cssClass(CLASS_SLIDE_WRAPPER), interactive && cssClass(CLASS_SLIDE_WRAPPER_INTERACTIVE)),\n    style: offset === 0 ? {\n      transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)`\n    } : undefined\n  }, rendered);\n}\nconst Zoom = ({\n  augment,\n  addModule\n}) => {\n  augment(({\n    zoom: zoomProps,\n    toolbar,\n    render,\n    controller,\n    ...restProps\n  }) => {\n    const zoom = resolveZoomProps(zoomProps);\n    return {\n      zoom,\n      toolbar: addToolbarButton(toolbar, PLUGIN_ZOOM, React.createElement(ZoomToolbarControl, null)),\n      render: {\n        ...render,\n        slide: props => {\n          var _a;\n          return isImageSlide(props.slide) ? React.createElement(ZoomWrapper, {\n            render: render,\n            ...props\n          }) : (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, props);\n        }\n      },\n      controller: {\n        ...controller,\n        preventDefaultWheelY: zoom.scrollToZoom\n      },\n      ...restProps\n    };\n  });\n  addModule(createModule(PLUGIN_ZOOM, ZoomContextProvider));\n};\nexport { Zoom as default };","map":{"version":3,"names":["React","useLightboxProps","useMotionPreference","useEventCallback","useLayoutEffect","useLightboxState","isImageSlide","isImageFitCover","round","useDocumentContext","useController","usePointerEvents","cleanup","makeUseContext","createIcon","IconButton","devicePixelRatio","ImageSlide","clsx","cssClass","addToolbarButton","createModule","EVENT_ON_KEY_DOWN","EVENT_ON_WHEEL","UNKNOWN_ACTION_TYPE","CLASS_FULLSIZE","CLASS_FLEX_CENTER","CLASS_SLIDE_WRAPPER","CLASS_SLIDE_WRAPPER_INTERACTIVE","PLUGIN_ZOOM","defaultZoomProps","maxZoomPixelRatio","zoomInMultiplier","doubleTapDelay","doubleClickDelay","doubleClickMaxStops","keyboardMoveDistance","wheelZoomDistanceFactor","pinchZoomDistanceFactor","scrollToZoom","resolveZoomProps","zoom","useZoomAnimation","offsetX","offsetY","zoomWrapperRef","zoomAnimation","useRef","zoomAnimationStart","zoomAnimationDuration","animation","reduceMotion","playZoomAnimation","_a","_b","_c","current","cancel","undefined","animate","call","transform","duration","easing","err","console","error","onfinish","useCallback","window","getComputedStyle","useZoomCallback","disabled","on","onZoomCallback","useEffect","useZoomProps","useZoomImageRect","slideRect","imageDimensions","imageRect","width","height","maxImageRect","currentSlide","imageFit","carousel","slide","cover","Math","max","srcSet","map","x","concat","min","maxZoom","distance","pointerA","pointerB","clientX","clientY","useZoomSensors","changeZoom","changeOffsets","activePointers","lastPointerDown","pinchZoomDistance","globalIndex","getOwnerWindow","containerRef","subscribeSensors","translateCoordinates","event","pageX","pageY","scrollX","scrollY","left","top","getBoundingClientRect","onKeyDown","preventDefault","stopPropagation","move","deltaX","deltaY","key","handleChangeZoom","zoomValue","hasMeta","getModifierState","onWheel","ctrlKey","abs","clearPointer","pointers","splice","length","filter","p","pointerId","replacePointer","persist","push","onPointerDown","contains","target","timeStamp","pointerType","onPointerMove","activePointer","find","currentDistance","delta","reduce","acc","coordinate","i","onPointerUp","cleanupSensors","useZoomState","setZoom","useState","setOffsetX","setOffsetY","containerRect","currentSource","src","dx","dy","targetZoom","newZoom","newOffsetX","newOffsetY","maxOffsetX","maxOffsetY","sign","rapid","handleControllerRectChange","zoomIn","zoomOut","ZoomControllerContext","createContext","useZoom","ZoomContextProvider","children","zoomWrapper","setZoomWrapper","zoomRef","useMemo","useImperativeHandle","ref","context","createElement","Provider","value","ZoomInIcon","Fragment","d","ZoomOutIcon","ZoomButton","forwardRef","onLoseFocus","wasEnabled","wasFocused","zoomInCallback","zoomOutCallback","zoomDisabled","render","label","icon","renderIcon","iconZoomIn","iconZoomOut","onClick","onFocus","onBlur","ZoomButtonsGroup","zoomInRef","zoomOutRef","focus","focusSibling","sibling","focusZoomIn","focusZoomOut","ZoomToolbarControl","buttonZoom","isResponsiveImageSlide","reducer","preload","type","source","Error","ResponsiveImage","props","dispatch","useReducer","image","rect","interactive","sort","a","b","maxWidth","targetWidth","pixelDensity","handleResize","targetSource","findIndex","handlePreload","currentPreload","style","WebkitTransform","Object","assign","position","visibility","onLoad","iconLoading","iconError","ZoomWrapper","offset","setImageDimensions","currentIndex","rendered","slideProps","imageProps","click","index","img","naturalWidth","naturalHeight","className","Zoom","augment","addModule","zoomProps","toolbar","controller","restProps","preventDefaultWheelY","default"],"sources":["C:/Users/RTD0224/source/repos/nail-salon-web/node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js"],"sourcesContent":["import * as React from 'react';\nimport { useLightboxProps, useMotionPreference, useEventCallback, useLayoutEffect, useLightboxState, isImageSlide, isImageFitCover, round, useDocumentContext, useController, usePointerEvents, cleanup, makeUseContext, createIcon, IconButton, devicePixelRatio, ImageSlide, clsx, cssClass, addToolbarButton, createModule } from '../../index.js';\nimport { EVENT_ON_KEY_DOWN, EVENT_ON_WHEEL, UNKNOWN_ACTION_TYPE, CLASS_FULLSIZE, CLASS_FLEX_CENTER, CLASS_SLIDE_WRAPPER, CLASS_SLIDE_WRAPPER_INTERACTIVE, PLUGIN_ZOOM } from '../../types.js';\n\nconst defaultZoomProps = {\n    maxZoomPixelRatio: 1,\n    zoomInMultiplier: 2,\n    doubleTapDelay: 300,\n    doubleClickDelay: 500,\n    doubleClickMaxStops: 2,\n    keyboardMoveDistance: 50,\n    wheelZoomDistanceFactor: 100,\n    pinchZoomDistanceFactor: 100,\n    scrollToZoom: false,\n};\nconst resolveZoomProps = (zoom) => ({\n    ...defaultZoomProps,\n    ...zoom,\n});\n\nfunction useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef) {\n    const zoomAnimation = React.useRef();\n    const zoomAnimationStart = React.useRef();\n    const { zoom: zoomAnimationDuration } = useLightboxProps().animation;\n    const reduceMotion = useMotionPreference();\n    const playZoomAnimation = useEventCallback(() => {\n        var _a, _b, _c;\n        (_a = zoomAnimation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        zoomAnimation.current = undefined;\n        if (zoomAnimationStart.current && (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)) {\n            try {\n                zoomAnimation.current = (_c = (_b = zoomWrapperRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, [\n                    { transform: zoomAnimationStart.current },\n                    { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` },\n                ], {\n                    duration: !reduceMotion ? (zoomAnimationDuration !== null && zoomAnimationDuration !== void 0 ? zoomAnimationDuration : 500) : 0,\n                    easing: zoomAnimation.current ? \"ease-out\" : \"ease-in-out\",\n                });\n            }\n            catch (err) {\n                console.error(err);\n            }\n            zoomAnimationStart.current = undefined;\n            if (zoomAnimation.current) {\n                zoomAnimation.current.onfinish = () => {\n                    zoomAnimation.current = undefined;\n                };\n            }\n        }\n    });\n    useLayoutEffect(playZoomAnimation, [zoom, offsetX, offsetY, playZoomAnimation]);\n    return React.useCallback(() => {\n        zoomAnimationStart.current = (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)\n            ? window.getComputedStyle(zoomWrapperRef.current).transform\n            : undefined;\n    }, [zoomWrapperRef]);\n}\n\nfunction useZoomCallback(zoom, disabled) {\n    const { on } = useLightboxProps();\n    const onZoomCallback = useEventCallback(() => {\n        var _a;\n        if (!disabled) {\n            (_a = on.zoom) === null || _a === void 0 ? void 0 : _a.call(on, { zoom });\n        }\n    });\n    React.useEffect(onZoomCallback, [zoom, onZoomCallback]);\n}\n\nfunction useZoomProps() {\n    const { zoom } = useLightboxProps();\n    return resolveZoomProps(zoom);\n}\n\nfunction useZoomImageRect(slideRect, imageDimensions) {\n    var _a, _b;\n    let imageRect = { width: 0, height: 0 };\n    let maxImageRect = { width: 0, height: 0 };\n    const { currentSlide } = useLightboxState();\n    const { imageFit } = useLightboxProps().carousel;\n    const { maxZoomPixelRatio } = useZoomProps();\n    if (slideRect && currentSlide) {\n        const slide = { ...currentSlide, ...imageDimensions };\n        if (isImageSlide(slide)) {\n            const cover = isImageFitCover(slide, imageFit);\n            const width = Math.max(...(((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) || []).concat(slide.width ? [slide.width] : []));\n            const height = Math.max(...(((_b = slide.srcSet) === null || _b === void 0 ? void 0 : _b.map((x) => x.height)) || []).concat(slide.height ? [slide.height] : []));\n            if (width > 0 && height > 0 && slideRect.width > 0 && slideRect.height > 0) {\n                maxImageRect = cover\n                    ? {\n                        width: Math.round(Math.min(width, (slideRect.width / slideRect.height) * height)),\n                        height: Math.round(Math.min(height, (slideRect.height / slideRect.width) * width)),\n                    }\n                    : { width, height };\n                maxImageRect = {\n                    width: maxImageRect.width * maxZoomPixelRatio,\n                    height: maxImageRect.height * maxZoomPixelRatio,\n                };\n                imageRect = cover\n                    ? {\n                        width: Math.min(slideRect.width, maxImageRect.width, width),\n                        height: Math.min(slideRect.height, maxImageRect.height, height),\n                    }\n                    : {\n                        width: Math.round(Math.min(slideRect.width, (slideRect.height / height) * width, width)),\n                        height: Math.round(Math.min(slideRect.height, (slideRect.width / width) * height, height)),\n                    };\n            }\n        }\n    }\n    const maxZoom = imageRect.width ? Math.max(round(maxImageRect.width / imageRect.width, 5), 1) : 1;\n    return { imageRect, maxZoom };\n}\n\nfunction distance(pointerA, pointerB) {\n    return ((pointerA.clientX - pointerB.clientX) ** 2 + (pointerA.clientY - pointerB.clientY) ** 2) ** 0.5;\n}\nfunction useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapperRef) {\n    const activePointers = React.useRef([]);\n    const lastPointerDown = React.useRef(0);\n    const pinchZoomDistance = React.useRef();\n    const { globalIndex } = useLightboxState();\n    const { getOwnerWindow } = useDocumentContext();\n    const { containerRef, subscribeSensors } = useController();\n    const { keyboardMoveDistance, zoomInMultiplier, wheelZoomDistanceFactor, scrollToZoom, doubleTapDelay, doubleClickDelay, doubleClickMaxStops, pinchZoomDistanceFactor, } = useZoomProps();\n    const translateCoordinates = React.useCallback((event) => {\n        if (containerRef.current) {\n            const { pageX, pageY } = event;\n            const { scrollX, scrollY } = getOwnerWindow();\n            const { left, top, width, height } = containerRef.current.getBoundingClientRect();\n            return [pageX - left - scrollX - width / 2, pageY - top - scrollY - height / 2];\n        }\n        return [];\n    }, [containerRef, getOwnerWindow]);\n    const onKeyDown = useEventCallback((event) => {\n        const preventDefault = () => {\n            event.preventDefault();\n            event.stopPropagation();\n        };\n        if (zoom > 1) {\n            const move = (deltaX, deltaY) => {\n                preventDefault();\n                changeOffsets(deltaX, deltaY);\n            };\n            if (event.key === \"ArrowDown\") {\n                move(0, keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowUp\") {\n                move(0, -keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowLeft\") {\n                move(-keyboardMoveDistance, 0);\n            }\n            else if (event.key === \"ArrowRight\") {\n                move(keyboardMoveDistance, 0);\n            }\n        }\n        const handleChangeZoom = (zoomValue) => {\n            preventDefault();\n            changeZoom(zoomValue);\n        };\n        const hasMeta = () => event.getModifierState(\"Meta\");\n        if (event.key === \"+\" || (event.key === \"=\" && hasMeta())) {\n            handleChangeZoom(zoom * zoomInMultiplier);\n        }\n        else if (event.key === \"-\" || (event.key === \"_\" && hasMeta())) {\n            handleChangeZoom(zoom / zoomInMultiplier);\n        }\n        else if (event.key === \"0\" && hasMeta()) {\n            handleChangeZoom(1);\n        }\n    });\n    const onWheel = useEventCallback((event) => {\n        if (event.ctrlKey || scrollToZoom) {\n            if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n                event.stopPropagation();\n                changeZoom(zoom * (1 - event.deltaY / wheelZoomDistanceFactor), true, ...translateCoordinates(event));\n                return;\n            }\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (!scrollToZoom) {\n                changeOffsets(event.deltaX, event.deltaY);\n            }\n        }\n    });\n    const clearPointer = React.useCallback((event) => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length, ...pointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const replacePointer = React.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        activePointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = useEventCallback((event) => {\n        var _a;\n        const pointers = activePointers.current;\n        if (!((_a = zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n        }\n        const { timeStamp } = event;\n        if (pointers.length === 0 &&\n            timeStamp - lastPointerDown.current < (event.pointerType === \"touch\" ? doubleTapDelay : doubleClickDelay)) {\n            lastPointerDown.current = 0;\n            changeZoom(zoom !== maxZoom ? zoom * Math.max(maxZoom ** (1 / doubleClickMaxStops), zoomInMultiplier) : 1, false, ...translateCoordinates(event));\n        }\n        else {\n            lastPointerDown.current = timeStamp;\n        }\n        replacePointer(event);\n        if (pointers.length === 2) {\n            pinchZoomDistance.current = distance(pointers[0], pointers[1]);\n        }\n    });\n    const onPointerMove = useEventCallback((event) => {\n        const pointers = activePointers.current;\n        const activePointer = pointers.find((p) => p.pointerId === event.pointerId);\n        if (pointers.length === 2 && pinchZoomDistance.current) {\n            event.stopPropagation();\n            replacePointer(event);\n            const currentDistance = distance(pointers[0], pointers[1]);\n            const delta = currentDistance - pinchZoomDistance.current;\n            if (Math.abs(delta) > 0) {\n                changeZoom(zoom * (1 + delta / pinchZoomDistanceFactor), true, ...pointers\n                    .map((x) => translateCoordinates(x))\n                    .reduce((acc, coordinate) => coordinate.map((x, i) => acc[i] + x / 2)));\n                pinchZoomDistance.current = currentDistance;\n            }\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (activePointer) {\n                if (pointers.length === 1) {\n                    changeOffsets((activePointer.clientX - event.clientX) / zoom, (activePointer.clientY - event.clientY) / zoom);\n                }\n                replacePointer(event);\n            }\n        }\n    });\n    const onPointerUp = React.useCallback((event) => {\n        const pointers = activePointers.current;\n        if (pointers.length === 2 && pointers.find((p) => p.pointerId === event.pointerId)) {\n            pinchZoomDistance.current = undefined;\n        }\n        clearPointer(event);\n    }, [clearPointer]);\n    const cleanupSensors = React.useCallback(() => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length);\n        lastPointerDown.current = 0;\n        pinchZoomDistance.current = undefined;\n    }, []);\n    usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled);\n    React.useEffect(cleanupSensors, [globalIndex, cleanupSensors]);\n    React.useEffect(() => {\n        if (!disabled) {\n            return cleanup(cleanupSensors, subscribeSensors(EVENT_ON_KEY_DOWN, onKeyDown), subscribeSensors(EVENT_ON_WHEEL, onWheel));\n        }\n        return () => { };\n    }, [disabled, subscribeSensors, cleanupSensors, onKeyDown, onWheel]);\n}\n\nfunction useZoomState(imageRect, maxZoom, zoomWrapperRef) {\n    const [zoom, setZoom] = React.useState(1);\n    const [offsetX, setOffsetX] = React.useState(0);\n    const [offsetY, setOffsetY] = React.useState(0);\n    const animate = useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef);\n    const { currentSlide, globalIndex } = useLightboxState();\n    const { containerRect, slideRect } = useController();\n    const { zoomInMultiplier } = useZoomProps();\n    const currentSource = currentSlide && isImageSlide(currentSlide) ? currentSlide.src : undefined;\n    const disabled = !currentSource || !(zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current);\n    useLayoutEffect(() => {\n        setZoom(1);\n        setOffsetX(0);\n        setOffsetY(0);\n    }, [globalIndex, currentSource]);\n    const changeOffsets = React.useCallback((dx, dy, targetZoom) => {\n        const newZoom = targetZoom || zoom;\n        const newOffsetX = offsetX - (dx || 0);\n        const newOffsetY = offsetY - (dy || 0);\n        const maxOffsetX = (imageRect.width * newZoom - slideRect.width) / 2 / newZoom;\n        const maxOffsetY = (imageRect.height * newZoom - slideRect.height) / 2 / newZoom;\n        setOffsetX(Math.min(Math.abs(newOffsetX), Math.max(maxOffsetX, 0)) * Math.sign(newOffsetX));\n        setOffsetY(Math.min(Math.abs(newOffsetY), Math.max(maxOffsetY, 0)) * Math.sign(newOffsetY));\n    }, [zoom, offsetX, offsetY, slideRect, imageRect.width, imageRect.height]);\n    const changeZoom = React.useCallback((targetZoom, rapid, dx, dy) => {\n        const newZoom = round(Math.min(Math.max(targetZoom + 0.001 < maxZoom ? targetZoom : maxZoom, 1), maxZoom), 5);\n        if (newZoom === zoom)\n            return;\n        if (!rapid) {\n            animate();\n        }\n        changeOffsets(dx ? dx * (1 / zoom - 1 / newZoom) : 0, dy ? dy * (1 / zoom - 1 / newZoom) : 0, newZoom);\n        setZoom(newZoom);\n    }, [zoom, maxZoom, changeOffsets, animate]);\n    const handleControllerRectChange = useEventCallback(() => {\n        if (zoom > 1) {\n            if (zoom > maxZoom) {\n                changeZoom(maxZoom, true);\n            }\n            changeOffsets();\n        }\n    });\n    useLayoutEffect(handleControllerRectChange, [containerRect.width, containerRect.height, handleControllerRectChange]);\n    const zoomIn = React.useCallback(() => changeZoom(zoom * zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    const zoomOut = React.useCallback(() => changeZoom(zoom / zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    return { zoom, offsetX, offsetY, disabled, changeOffsets, changeZoom, zoomIn, zoomOut };\n}\n\nconst ZoomControllerContext = React.createContext(null);\nconst useZoom = makeUseContext(\"useZoom\", \"ZoomControllerContext\", ZoomControllerContext);\nfunction ZoomContextProvider({ children }) {\n    const [zoomWrapper, setZoomWrapper] = React.useState();\n    const { slideRect } = useController();\n    const { imageRect, maxZoom } = useZoomImageRect(slideRect, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.imageDimensions);\n    const { zoom, offsetX, offsetY, disabled, changeZoom, changeOffsets, zoomIn, zoomOut } = useZoomState(imageRect, maxZoom, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    useZoomCallback(zoom, disabled);\n    useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    const zoomRef = React.useMemo(() => ({ zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom }), [zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom]);\n    React.useImperativeHandle(useZoomProps().ref, () => zoomRef, [zoomRef]);\n    const context = React.useMemo(() => ({ ...zoomRef, setZoomWrapper }), [zoomRef, setZoomWrapper]);\n    return React.createElement(ZoomControllerContext.Provider, { value: context }, children);\n}\n\nconst ZoomInIcon = createIcon(\"ZoomIn\", React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" }),\n    React.createElement(\"path\", { d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\" })));\nconst ZoomOutIcon = createIcon(\"ZoomOut\", React.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\" }));\nconst ZoomButton = React.forwardRef(function ZoomButton({ zoomIn, onLoseFocus }, ref) {\n    const wasEnabled = React.useRef(false);\n    const wasFocused = React.useRef(false);\n    const { zoom, maxZoom, zoomIn: zoomInCallback, zoomOut: zoomOutCallback, disabled: zoomDisabled } = useZoom();\n    const { render } = useLightboxProps();\n    const disabled = zoomDisabled || (zoomIn ? zoom >= maxZoom : zoom <= 1);\n    React.useEffect(() => {\n        if (disabled && wasEnabled.current && wasFocused.current) {\n            onLoseFocus();\n        }\n        if (!disabled) {\n            wasEnabled.current = true;\n        }\n    }, [disabled, onLoseFocus]);\n    return (React.createElement(IconButton, { ref: ref, disabled: disabled, label: zoomIn ? \"Zoom in\" : \"Zoom out\", icon: zoomIn ? ZoomInIcon : ZoomOutIcon, renderIcon: zoomIn ? render.iconZoomIn : render.iconZoomOut, onClick: zoomIn ? zoomInCallback : zoomOutCallback, onFocus: () => {\n            wasFocused.current = true;\n        }, onBlur: () => {\n            wasFocused.current = false;\n        } }));\n});\n\nfunction ZoomButtonsGroup() {\n    const zoomInRef = React.useRef(null);\n    const zoomOutRef = React.useRef(null);\n    const { focus } = useController();\n    const focusSibling = React.useCallback((sibling) => {\n        var _a, _b;\n        if (!((_a = sibling.current) === null || _a === void 0 ? void 0 : _a.disabled)) {\n            (_b = sibling.current) === null || _b === void 0 ? void 0 : _b.focus();\n        }\n        else {\n            focus();\n        }\n    }, [focus]);\n    const focusZoomIn = React.useCallback(() => focusSibling(zoomInRef), [focusSibling]);\n    const focusZoomOut = React.useCallback(() => focusSibling(zoomOutRef), [focusSibling]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ZoomButton, { zoomIn: true, ref: zoomInRef, onLoseFocus: focusZoomOut }),\n        React.createElement(ZoomButton, { ref: zoomOutRef, onLoseFocus: focusZoomIn })));\n}\n\nfunction ZoomToolbarControl() {\n    const { render } = useLightboxProps();\n    const zoomRef = useZoom();\n    if (render.buttonZoom) {\n        return React.createElement(React.Fragment, null, render.buttonZoom(zoomRef));\n    }\n    return React.createElement(ZoomButtonsGroup, null);\n}\n\nfunction isResponsiveImageSlide(slide) {\n    var _a;\n    return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0;\n}\nfunction reducer({ current, preload }, { type, source }) {\n    switch (type) {\n        case \"fetch\":\n            if (!current) {\n                return { current: source };\n            }\n            return { current, preload: source };\n        case \"done\":\n            if (source === preload) {\n                return { current: source };\n            }\n            return { current, preload };\n        default:\n            throw new Error(UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction ResponsiveImage(props) {\n    var _a, _b;\n    const [{ current, preload }, dispatch] = React.useReducer(reducer, {});\n    const { slide: image, rect, imageFit, render, interactive } = props;\n    const srcSet = image.srcSet.sort((a, b) => a.width - b.width);\n    const width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n    const height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n    const cover = isImageFitCover(image, imageFit);\n    const maxWidth = Math.max(...srcSet.map((x) => x.width));\n    const targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n    const pixelDensity = devicePixelRatio();\n    const handleResize = useEventCallback(() => {\n        var _a;\n        const targetSource = (_a = srcSet.find((x) => x.width >= targetWidth * pixelDensity)) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n        if (!current || srcSet.findIndex((x) => x.src === current) < srcSet.findIndex((x) => x === targetSource)) {\n            dispatch({ type: \"fetch\", source: targetSource.src });\n        }\n    });\n    useLayoutEffect(handleResize, [rect.width, rect.height, pixelDensity, handleResize]);\n    const handlePreload = useEventCallback((currentPreload) => dispatch({ type: \"done\", source: currentPreload }));\n    const style = {\n        WebkitTransform: !interactive ? \"translateZ(0)\" : \"initial\",\n    };\n    if (!cover) {\n        Object.assign(style, rect.width / rect.height < width / height ? { width: \"100%\", height: \"auto\" } : { width: \"auto\", height: \"100%\" });\n    }\n    return (React.createElement(React.Fragment, null,\n        preload && preload !== current && (React.createElement(ImageSlide, { key: \"preload\", ...props, slide: { ...image, src: preload, srcSet: undefined }, style: { position: \"absolute\", visibility: \"hidden\", ...style }, onLoad: () => handlePreload(preload), render: {\n                ...render,\n                iconLoading: () => null,\n                iconError: () => null,\n            } })),\n        current && (React.createElement(ImageSlide, { key: \"current\", ...props, slide: { ...image, src: current, srcSet: undefined }, style: style }))));\n}\n\nfunction ZoomWrapper({ render, slide, offset, rect }) {\n    var _a;\n    const [imageDimensions, setImageDimensions] = React.useState();\n    const zoomWrapperRef = React.useRef(null);\n    const { zoom, maxZoom, offsetX, offsetY, setZoomWrapper } = useZoom();\n    const interactive = zoom > 1;\n    const { carousel, on } = useLightboxProps();\n    const { currentIndex } = useLightboxState();\n    useLayoutEffect(() => {\n        if (offset === 0) {\n            setZoomWrapper({ zoomWrapperRef, imageDimensions });\n            return () => setZoomWrapper(undefined);\n        }\n        return () => { };\n    }, [offset, imageDimensions, setZoomWrapper]);\n    let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, { slide, offset, rect, zoom, maxZoom });\n    if (!rendered && isImageSlide(slide)) {\n        const slideProps = {\n            slide,\n            offset,\n            rect,\n            render,\n            imageFit: carousel.imageFit,\n            imageProps: carousel.imageProps,\n            onClick: offset === 0 ? () => { var _a; return (_a = on.click) === null || _a === void 0 ? void 0 : _a.call(on, { index: currentIndex }); } : undefined,\n        };\n        rendered = isResponsiveImageSlide(slide) ? (React.createElement(ResponsiveImage, { ...slideProps, slide: slide, interactive: interactive, rect: offset === 0 ? { width: rect.width * zoom, height: rect.height * zoom } : rect })) : (React.createElement(ImageSlide, { onLoad: (img) => setImageDimensions({ width: img.naturalWidth, height: img.naturalHeight }), ...slideProps }));\n    }\n    if (!rendered)\n        return null;\n    return (React.createElement(\"div\", { ref: zoomWrapperRef, className: clsx(cssClass(CLASS_FULLSIZE), cssClass(CLASS_FLEX_CENTER), cssClass(CLASS_SLIDE_WRAPPER), interactive && cssClass(CLASS_SLIDE_WRAPPER_INTERACTIVE)), style: offset === 0 ? { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` } : undefined }, rendered));\n}\n\nconst Zoom = ({ augment, addModule }) => {\n    augment(({ zoom: zoomProps, toolbar, render, controller, ...restProps }) => {\n        const zoom = resolveZoomProps(zoomProps);\n        return {\n            zoom,\n            toolbar: addToolbarButton(toolbar, PLUGIN_ZOOM, React.createElement(ZoomToolbarControl, null)),\n            render: {\n                ...render,\n                slide: (props) => { var _a; return isImageSlide(props.slide) ? React.createElement(ZoomWrapper, { render: render, ...props }) : (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, props); },\n            },\n            controller: { ...controller, preventDefaultWheelY: zoom.scrollToZoom },\n            ...restProps,\n        };\n    });\n    addModule(createModule(PLUGIN_ZOOM, ZoomContextProvider));\n};\n\nexport { Zoom as default };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}